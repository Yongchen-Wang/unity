# 视频处理流程

## 概述

将视频转换为图片帧，用于 YOLO 实例分割训练。

## 工作流程

### 第一步：提取所有帧

从所有视频中提取每一帧，保存到 `video_to_img/` 文件夹。

```bash
python extract_all_frames.py
```

**输出结构：**

```
video_to_img/
├── ump(1)/
│   ├── 00000.jpg
│   ├── 00001.jpg
│   └── ...
├── WIN_20260127_12_56_54_Pro/
│   ├── 00000.jpg
│   └── ...
└── WIN_20260127_13_01_29_Pro/
    ├── 00000.jpg
    └── ...
```

### 第二步：抽帧

从已提取的帧中按需抽帧，生成训练数据集。

```bash
# 按间隔抽帧（每10帧抽取1帧）
python sample_frames.py --interval 10 --output yolo_dataset/images

# 随机抽帧
python sample_frames.py --interval 10 --mode random --output yolo_dataset/images
```

**参数说明：**

- `--input`: 输入目录（默认：`video_to_img`）
- `--output`: 输出目录（默认：`yolo_dataset/images`）
- `--interval`: 抽帧间隔（每 N 帧抽取 1 帧）
- `--mode`: 抽帧模式（`interval` 或 `random`）

- **快速运动场景**：每 5-10 帧抽取 1 帧
